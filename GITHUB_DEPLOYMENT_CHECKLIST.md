# GitHub + Cloudflare Pages éƒ¨ç½²æ£€æŸ¥æ¸…å•

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

### âœ… ä»£ç å‡†å¤‡
- [ ] æ‰€æœ‰ä»£ç å·²æäº¤å¹¶æ¨é€åˆ° GitHub
- [ ] `.gitignore` æ–‡ä»¶å·²é…ç½®
- [ ] `package.json` ä¸­ `"type": "module"` å·²è®¾ç½®
- [ ] æ‰€æœ‰å¿…è¦æ–‡ä»¶éƒ½å­˜åœ¨ï¼š
  - [ ] `public/index.html`
  - [ ] `public/css/styles.css`
  - [ ] `public/js/app.js`
  - [ ] `functions/api/prefixes.js`
  - [ ] `functions/api/test.js`

### âœ… GitHub ä»“åº“è®¾ç½®
- [ ] ä»“åº“å·²åˆ›å»ºå¹¶è®¾ä¸º Publicï¼ˆæ¨èï¼‰
- [ ] ä»£ç å·²æ¨é€åˆ° `main` åˆ†æ”¯
- [ ] README.md æ–‡ä»¶å†…å®¹å®Œæ•´
- [ ] ä»“åº“æè¿°å·²å¡«å†™

## ğŸš€ Cloudflare Pages é…ç½®æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šè¿æ¥ GitHub
1. ç™»å½• [Cloudflare Dashboard](https://dash.cloudflare.com/)
2. é€‰æ‹© "Pages" â†’ "Create a project"
3. é€‰æ‹© "Connect to Git" â†’ "GitHub"
4. æˆæƒ Cloudflare è®¿é—® GitHub

### ç¬¬äºŒæ­¥ï¼šé€‰æ‹©ä»“åº“
- ä»“åº“åç§°ï¼š`nat64-latency-test`
- ç‚¹å‡» "Begin setup"

### ç¬¬ä¸‰æ­¥ï¼šæ„å»ºé…ç½®

#### ğŸ”§ åŸºæœ¬è®¾ç½®
```
Project name: nat64-latency-test
Production branch: main
```

#### ğŸ”§ æ„å»ºè®¾ç½®
```
Framework preset: None
Build command: (ç•™ç©º - æ— éœ€æ„å»º)
Build output directory: public
Root directory: (ç•™ç©º)
```

**é‡è¦è¯´æ˜**ï¼šåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œ`public/` ç›®å½•åŒ…å«çš„æ˜¯é™æ€æºæ–‡ä»¶ï¼ˆä¸æ˜¯æ„å»ºè¾“å‡ºï¼‰ï¼Œå› æ­¤ï¼š
- âœ… `public/` ç›®å½•å·²åŒ…å«åœ¨ Git ä»“åº“ä¸­
- âœ… æ— éœ€æ„å»ºå‘½ä»¤ï¼Œç›´æ¥éƒ¨ç½²é™æ€æ–‡ä»¶
- âœ… Cloudflare Pages ä¼šç›´æ¥ä½¿ç”¨ `public/` ä¸­çš„æ–‡ä»¶

#### ğŸ”§ ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼‰
```
NODE_VERSION: 18
```

### ç¬¬å››æ­¥ï¼šé«˜çº§è®¾ç½®
```
Compatibility date: 2024-07-01
Compatibility flags: nodejs_compat (å¯é€‰)
```

## ğŸ“ è¯¦ç»†é…ç½®å‚æ•°

### Cloudflare Pages è®¾ç½®ç•Œé¢å‚æ•°

| è®¾ç½®é¡¹ | å€¼ | è¯´æ˜ |
|--------|-----|------|
| Project name | `nat64-latency-test` | é¡¹ç›®åç§°ï¼Œå¯è‡ªå®šä¹‰ |
| Production branch | `main` | ç”Ÿäº§åˆ†æ”¯ |
| Preview branches | `All branches` | é¢„è§ˆåˆ†æ”¯è®¾ç½® |
| Build command | ç•™ç©º | ä¸éœ€è¦æ„å»ºå‘½ä»¤ |
| Build output directory | `public` | é™æ€æ–‡ä»¶ç›®å½• |
| Root directory | ç•™ç©º | ä½¿ç”¨ä»“åº“æ ¹ç›®å½• |

### Functions é…ç½®ï¼ˆè‡ªåŠ¨æ£€æµ‹ï¼‰

Pages ä¼šè‡ªåŠ¨è¯†åˆ«ä»¥ä¸‹æ–‡ä»¶ï¼š
- `functions/api/prefixes.js` â†’ è·¯ç”±ï¼š`/api/prefixes`
- `functions/api/test.js` â†’ è·¯ç”±ï¼š`/api/test`

## ğŸ” éƒ¨ç½²åéªŒè¯

### 1. åŸºæœ¬åŠŸèƒ½æµ‹è¯•
- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®
- [ ] é¡µé¢æ ·å¼æ­£ç¡®æ˜¾ç¤º
- [ ] "å¼€å§‹æµ‹é€Ÿ" æŒ‰é’®å¯ä»¥ç‚¹å‡»

### 2. API åŠŸèƒ½æµ‹è¯•
- [ ] `/api/prefixes` è¿”å›å‰ç¼€åˆ—è¡¨
- [ ] `/api/test?prefix=xxx` å¯ä»¥æ‰§è¡Œæµ‹è¯•
- [ ] CORS å¤´æ­£ç¡®è®¾ç½®

### 3. æ€§èƒ½æµ‹è¯•
- [ ] é¡µé¢åŠ è½½é€Ÿåº¦æ­£å¸¸
- [ ] API å“åº”æ—¶é—´åˆç†
- [ ] å¹¶å‘æµ‹è¯•åŠŸèƒ½æ­£å¸¸

## ğŸ› å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1ï¼šéƒ¨ç½²å¤±è´¥
**ç—‡çŠ¶**ï¼šæ„å»ºè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ `package.json` ä¸­çš„ `"type": "module"`
2. ç¡®è®¤æ‰€æœ‰æ–‡ä»¶è·¯å¾„æ­£ç¡®
3. æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯

### é—®é¢˜ 2ï¼šFunctions ä¸å·¥ä½œ
**ç—‡çŠ¶**ï¼šAPI ç«¯ç‚¹è¿”å› 404
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ `functions/api/` ç›®å½•ç»“æ„
2. æ£€æŸ¥å‡½æ•°å¯¼å‡ºæ ¼å¼ï¼š`export async function onRequest`
3. æŸ¥çœ‹ Functions æ—¥å¿—

### é—®é¢˜ 3ï¼šCORS é”™è¯¯
**ç—‡çŠ¶**ï¼šå‰ç«¯æ— æ³•è°ƒç”¨ API
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Functions ä¸­çš„ CORS å¤´
2. ç¡®è®¤ OPTIONS è¯·æ±‚å¤„ç†
3. éªŒè¯ Access-Control-Allow-Origin è®¾ç½®

### é—®é¢˜ 4ï¼šé™æ€æ–‡ä»¶ 404
**ç—‡çŠ¶**ï¼šCSS/JS æ–‡ä»¶æ— æ³•åŠ è½½
**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®è®¤ `public/` ç›®å½•ç»“æ„
2. æ£€æŸ¥ HTML ä¸­çš„æ–‡ä»¶è·¯å¾„
3. éªŒè¯æ„å»ºè¾“å‡ºç›®å½•è®¾ç½®

## ğŸ“Š ç›‘æ§å’Œä¼˜åŒ–

### éƒ¨ç½²åè®¾ç½®
1. **è‡ªå®šä¹‰åŸŸå**ï¼ˆå¯é€‰ï¼‰
   - åœ¨ Pages è®¾ç½®ä¸­æ·»åŠ è‡ªå®šä¹‰åŸŸå
   - é…ç½® DNS è®°å½•

2. **ç¼“å­˜ä¼˜åŒ–**
   - é™æ€èµ„æºï¼š1 å¹´ç¼“å­˜
   - API å“åº”ï¼š5 åˆ†é’Ÿç¼“å­˜
   - HTML é¡µé¢ï¼š1 å°æ—¶ç¼“å­˜

3. **å®‰å…¨è®¾ç½®**
   - å¯ç”¨ "Always Use HTTPS"
   - é…ç½® Security Level
   - å¯ç”¨ Bot Fight Mode

4. **æ€§èƒ½ç›‘æ§**
   - å¯ç”¨ Web Analytics
   - é…ç½® Real User Monitoring
   - è®¾ç½®å‘Šè­¦è§„åˆ™

## ğŸ”„ æŒç»­éƒ¨ç½²

### è‡ªåŠ¨éƒ¨ç½²æµç¨‹
```bash
# ä¿®æ”¹ä»£ç 
git add .
git commit -m "æè¿°æ‚¨çš„ä¿®æ”¹"
git push origin main
# Cloudflare Pages ä¼šè‡ªåŠ¨éƒ¨ç½²
```

### é¢„è§ˆéƒ¨ç½²
```bash
# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/new-feature
# ä¿®æ”¹ä»£ç å¹¶æ¨é€
git push origin feature/new-feature
# ä¼šåˆ›å»ºé¢„è§ˆéƒ¨ç½²é“¾æ¥
```

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æŸ¥çœ‹ [Cloudflare Pages æ–‡æ¡£](https://developers.cloudflare.com/pages/)
2. æ£€æŸ¥éƒ¨ç½²æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
3. æŸ¥çœ‹æœ¬é¡¹ç›®çš„å…¶ä»–æ–‡æ¡£ï¼š
   - `README.md` - é¡¹ç›®æ¦‚è¿°
   - `DEPLOYMENT.md` - è¯¦ç»†éƒ¨ç½²æŒ‡å—
   - `PROJECT_STRUCTURE.md` - é¡¹ç›®ç»“æ„è¯´æ˜

## ğŸ‰ éƒ¨ç½²æˆåŠŸï¼

éƒ¨ç½²æˆåŠŸåï¼Œæ‚¨å°†è·å¾—ï¼š
- ä¸€ä¸ªå…¨çƒ CDN åŠ é€Ÿçš„ç½‘ç«™
- è‡ªåŠ¨ HTTPS è¯ä¹¦
- æ— é™å¸¦å®½å’Œè¯·æ±‚
- è‡ªåŠ¨éƒ¨ç½²å’Œé¢„è§ˆåŠŸèƒ½

äº«å—æ‚¨çš„ NAT64 å»¶è¿Ÿæµ‹è¯•å·¥å…·å§ï¼ğŸš€
